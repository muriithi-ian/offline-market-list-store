{"version":3,"sources":["App.js","index.js"],"names":["App","useState","name","setName","price","setPrice","db","Dexie","version","stores","items","allItems","useLiveQuery","toArray","addItemToDb","event","a","preventDefault","add","Number","itemHasBeenPurchased","then","removeItemFromDb","id","delete","markAsPurchased","target","checked","update","itemData","map","className","type","onChange","onClick","onSubmit","placeholder","required","value","e","step","length","action","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oPAoFeA,EA7EH,WAAO,IAAD,EACQC,mBAAS,IADjB,mBACTC,EADS,KACHC,EADG,OAEUF,mBAAS,MAFnB,mBAETG,EAFS,KAEFC,EAFE,KAIVC,EAAK,IAAIC,UAAM,cACrBD,EAAGE,QAAQ,GAAGC,OACZ,CAAEC,MAAO,4CAGX,IAAMC,EAAWC,wBAAa,kBAAMN,EAAGI,MAAMG,YAAW,IACxD,IAAKF,EAAU,OAAO,KAEtB,IAAMG,EAAW,uCAAG,WAAMC,GAAN,SAAAC,EAAA,6DAClBD,EAAME,iBADY,SAGZX,EAAGI,MAAMQ,IAAI,CACjBhB,OACAE,MAAOe,OAAOf,GACdgB,sBAAsB,IACrBC,MAAK,WACNlB,EAAQ,IACRE,EAAS,OATO,2CAAH,sDAaXiB,EAAgB,uCAAG,WAAMC,GAAN,SAAAP,EAAA,sEACjBV,EAAGI,MAAMc,OAAOD,GADC,2CAAH,sDAIhBE,EAAe,uCAAG,WAAOF,EAAIR,GAAX,SAAAC,EAAA,0DAClBD,EAAMW,OAAOC,QADK,gCAEdrB,EAAGI,MAAMkB,OAAOL,EAAI,CAAEH,sBAAsB,IAF9B,6CAIdd,EAAGI,MAAMkB,OAAOL,EAAI,CAAEH,sBAAsB,IAJ9B,2CAAH,wDAQfS,EAAWlB,EAASmB,KAAI,gBAAGP,EAAH,EAAGA,GAAIrB,EAAP,EAAOA,KAAME,EAAb,EAAaA,MAAOgB,EAApB,EAAoBA,qBAApB,OAC5B,sBAAKW,UAAU,MAAf,UACE,mBAAGA,UAAU,SAAb,SACE,kCACE,uBACEC,KAAK,WACLL,QAASP,EACTa,SAAU,SAAAlB,GAAK,OAAIU,EAAgBF,EAAIR,MAEzC,sBAAMgB,UAAU,aAAhB,SAA8B7B,SAGlC,oBAAG6B,UAAU,SAAb,cAAwB3B,KACxB,mBAAG8B,QAAS,kBAAMZ,EAAiBC,IAAKQ,UAAU,sCAAlD,sBAZwBR,MAkB5B,OACE,sBAAKQ,UAAU,YAAf,UACE,oBAAIA,UAAU,0BAAd,6BACA,uBAAMA,UAAU,gBAAgBI,SAAU,SAAApB,GAAK,OAAID,EAAYC,IAA/D,UACE,uBAAOiB,KAAK,OAAOD,UAAU,YAAYK,YAAY,eAAeC,UAAQ,EAACC,MAAOpC,EAAM+B,SAAU,SAACM,GAAD,OAAOpC,EAAQoC,EAAEb,OAAOY,UAC5H,uBAAON,KAAK,SAASQ,KAAK,MAAMT,UAAU,aAAaK,YAAY,eAAeC,UAAQ,EAACC,MAAOlC,EAAO6B,SAAU,SAACM,GAAD,OAAOlC,EAASkC,EAAEb,OAAOY,UAC5I,wBAAQN,KAAK,SAASD,UAAU,qCAAhC,yBAEDpB,EAAS8B,OAAS,GACjB,qBAAKV,UAAU,sBAAf,SACE,qBAAKA,UAAU,eAAf,SACE,sBAAMW,OAAO,IAAb,SACGb,YCvEfc,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.43c994dc.chunk.js","sourcesContent":["import './App.css';\nimport Dexie from 'dexie';\nimport { useState } from 'react'\nimport { useLiveQuery } from \"dexie-react-hooks\";\n\n\n\nconst App = () => {\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState(null);\n\n  const db = new Dexie('MarketList');\n  db.version(1).stores(\n    { items: \"++id, name, price, itemHasBeenPurchased\" }\n  )\n\n  const allItems = useLiveQuery(() => db.items.toArray(), []);\n  if (!allItems) return null;\n\n  const addItemToDb = async event => {\n    event.preventDefault();\n\n    await db.items.add({\n      name,\n      price: Number(price),\n      itemHasBeenPurchased: false\n    }).then(() => {\n      setName('')\n      setPrice('')\n    })\n  }\n\n  const removeItemFromDb = async id => {\n    await db.items.delete(id)\n  }\n\n  const markAsPurchased = async (id, event) => {\n    if (event.target.checked) {\n      await db.items.update(id, { itemHasBeenPurchased: true })\n    } else {\n      await db.items.update(id, { itemHasBeenPurchased: false })\n    }\n  }\n\n  const itemData = allItems.map(({ id, name, price, itemHasBeenPurchased }) => (\n    <div className=\"row\" key={id}>\n      <p className=\"col s5\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={itemHasBeenPurchased}\n            onChange={event => markAsPurchased(id, event)}\n          />\n          <span className=\"black-text\">{name}</span>\n        </label>\n      </p>\n      <p className=\"col s5\">${price}</p>\n      <i onClick={() => removeItemFromDb(id)} className=\"col s2 material-icons delete-button\">\n        delete\n      </i>\n    </div>\n  ))\n\n  return (\n    <div className=\"container\">\n      <h3 className=\"green-text center-align\">Market List App</h3>\n      <form className=\"add-item-form\" onSubmit={event => addItemToDb(event)} >\n        <input type=\"text\" className=\"item-name\" placeholder=\"Name of item\" required value={name} onChange={(e) => setName(e.target.value)} />\n        <input type=\"number\" step=\".01\" className=\"item-price\" placeholder=\"Price in USD\" required value={price} onChange={(e) => setPrice(e.target.value)} />\n        <button type=\"submit\" className=\"waves-effect waves-light btn right\">Add item</button>\n      </form>\n      {allItems.length > 0 &&\n        <div className=\"card white darken-1\">\n          <div className=\"card-content\">\n            <form action=\"#\">\n              {itemData}\n            </form>\n          </div>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}